!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.vueYandexMaps=e()}(this,function(){"use strict";var t={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"ymap-container"},[n("div",{style:{width:"100%",height:"100%"},attrs:{id:t.ymapId}}),t._t("default")],2)},staticRenderFns:[],data:function(){return{ymapId:"yandexMap"+Math.round(1e5*Math.random())}},props:{latitude:{type:Number,required:!0},longtitude:{type:Number,required:!0},zoom:{type:Number,default:18},hintContent:String,balloon:Object,icon:Object},computed:{coords:function(){return[this.latitude,this.longtitude]},iconPreset:function(){var t,e=this.icon.color||"blue";return t=this.icon.glyph?this.icon.glyph.charAt(0).toUpperCase()+this.icon.glyph.slice(1):this.icon.content?"Stretchy":"",e+t}},beforeCreate:function(){var t=this;if(!this.$ymapEventBus.scriptIsNotAttached)return!1;var e=document.createElement("SCRIPT");e.setAttribute("src","https://api-maps.yandex.ru/2.1/?lang=ru_RU"),e.setAttribute("async",""),e.setAttribute("defer",""),document.body.appendChild(e),this.$ymapEventBus.scriptIsNotAttached=!1,e.onload=function(){t.$ymapEventBus.ymapReady=!0,t.$ymapEventBus.$emit("scriptIsLoaded")}},created:function(){var t=this;window.addEventListener("DOMContentLoaded",function(){function e(){console.log(this.ymapId),n=new ymaps.Map(this.ymapId,{center:this.coords,zoom:this.zoom}),o=new ymaps.Placemark(this.coords,{hintContent:this.hintContent,iconContent:this.icon.content,balloonContentHeader:this.balloon.header,balloonContentBody:this.balloon.body,balloonContentFooter:this.balloon.footer},{preset:"islands#"+this.iconPreset+"Icon"}),n.geoObjects.add(o)}var n,o;t.$ymapEventBus.ymapReady?ymaps.ready(e.bind(t)):t.$ymapEventBus.$on("scriptIsLoaded",function(){ymaps.ready(e.bind(t))})})}},e={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span")},staticRenderFns:[],props:["latitude","longtitude"],mounted:function(){console.log(this.latitude)}},n=function(n){n.component("yandex-map",t),n.component("ymap-placemark",e),n.prototype.$ymapEventBus=new n({data:{ymapReady:!1,scriptIsNotAttached:!0}})};return window.Vue&&(window.YMapPlugin=t,Vue.use(n)),t.install=n,t});
